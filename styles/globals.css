@tailwind base;
@tailwind components;
@tailwind utilities;

/*
 * Fix Nextra sidebar visibility.
 * Mantine's global styles (@mantine/core/styles.css) include CSS resets
 * that interfere with Nextra's docs theme layout, causing the sidebar
 * to be hidden or collapsed. These overrides restore proper behavior.
 */

/* Force sidebar container to be visible and properly laid out */
.nextra-sidebar-container {
  display: flex !important;
  flex-direction: column;
  width: var(--nextra-sidebar-width);
  visibility: visible !important;
  opacity: 1 !important;
  overflow: visible;
}

/* Ensure the sidebar nav items are visible */
.nextra-sidebar-container ul {
  list-style: none;
  padding: 0;
  margin: 0;
  display: block !important;
}

.nextra-sidebar-container li {
  display: list-item !important;
  visibility: visible !important;
}

/* Restore sidebar layout within the main wrapper â€”
   Nextra wraps the sidebar + content in a flex row after the nav */
.nextra-nav-container ~ div {
  display: flex !important;
}

/* Ensure sidebar content is not hidden by Mantine box-sizing resets */
.nextra-sidebar-container a,
.nextra-sidebar-container button,
.nextra-sidebar-container summary {
  display: flex;
  align-items: center;
  visibility: visible !important;
}

/* Prevent Mantine's *, *::before, *::after reset from collapsing Nextra layout */
.nextra-sidebar-container,
.nextra-sidebar-container * {
  box-sizing: border-box;
}

/* Ensure the main content area beside the sidebar also displays correctly */
article.nextra-body-typesetting-article {
  min-width: 0;
  flex: 1;
}

/* ========================================
   Mobile-responsive navigation links
   ======================================== */

/* Desktop: show inline links, hide hamburger menu */
.nav-links-desktop {
  display: flex;
  align-items: center;
}
.nav-links-mobile {
  display: none;
}

/* Mobile (< 768px): hide inline links, show hamburger menu */
@media (max-width: 767px) {
  .nav-links-desktop {
    display: none !important;
  }
  .nav-links-mobile {
    display: block !important;
  }
}

/* ========================================
   Mobile UI optimizations
   ======================================== */

@media (max-width: 767px) {
  /* Tighter content padding on mobile */
  .nextra-body-typesetting-article {
    padding-left: 1rem !important;
    padding-right: 1rem !important;
  }

  /* Make tables scroll horizontally instead of overflowing */
  article table {
    display: block;
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
    font-size: 0.85rem;
  }

  /* Reduce heading sizes for mobile */
  article h1 {
    font-size: 1.75rem !important;
    line-height: 1.2 !important;
  }
  article h2 {
    font-size: 1.35rem !important;
    line-height: 1.3 !important;
  }
  article h3 {
    font-size: 1.15rem !important;
  }

  /* Improve line height for readability on small screens */
  article p,
  article li {
    line-height: 1.7;
  }

  /* Compact navbar height on mobile */
  .nextra-nav-container nav {
    padding-top: 0.5rem !important;
    padding-bottom: 0.5rem !important;
  }
}
